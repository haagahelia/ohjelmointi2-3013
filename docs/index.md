# Tervetuloa kurssille!

Tervetuloa kurssille Ohjelmointi 2, SWD4TN033-3013! Opettajana tällä kurssilla toimii Teemu Havulinna (etunimi.sukunimi@haaga-helia.fi).

Tällä opintojaksolla syvennämme olio-ohjelmointiosaamistamme ja sovellamme aiemmin oppimianne ohjelmointitaitoja tietokantojen ja verkkopalveluiden parissa. Syvennymme kielen syntaksin ja tarvittavien kirjastojen lisäksi myös yksikkötestaukseen sekä versionhallinnan alkeisiin. 

Kurssin opintojaksokuvaus löytyy osoitteesta [https://opinto-opas.haaga-helia.fi/course_unit/SWD4TN033](https://opinto-opas.haaga-helia.fi/course_unit/SWD4TN033).


## Osallistumisen vahvistaminen

Vahvista osallistumisesi kurssille liittymällä kurssin Teams-ryhmään sekä Viope-oppimisalustalle. Liittymisohjeet ja -koodin Teamsiin olet saanut sähköpostitse kurssin alkua edeltävällä viikolla. Liityttyäsi Teams-ryhmään saat myös katseluoikeudet kurssin Microsoft Stream -palvelussa sijaitseviin videoihin.


## Kurssin aikataulu

Tämä opintojakso alkaa 26.10. ja päättyy perjantaina 18.12.2020. Opintojakso toteutetaan täysin virtuaalisesti, eli se ei sisällä lähiopetusta kampuksella eikä videoyhteydellä. Lähiopetuksen sijaan saatavillasi on lukuisia videoita ja tekstimuotoista oppimateriaalia.

Kurssin keskustelukanavana toimii Teams-ryhmä, jonka kautta tavoitat sekä opettajan että muut opiskelijat. Ohjausta ja apua on saatavilla Teamsin kautta lyhyellä vasteajalla.


### Aihe 1: perintä ja rajapinnat <small>26.10. - 1.11.2020</small>

Ensimmäisellä viikolla syvennämme olio-ohjelmointiosaamistamme tutustumalla perintään ja rajapintoihin. Perintä ja rajapinnat ovat olio-ohjelmoinnin ratkaisuja koodin uudelleenkäytettävyyden ja yhteensopivuuden edistämiseksi.

[Siirry oppimateriaaliin ⇨](01_perinta_ja_rajapinnat/perinta-ja-rajapinnat)

Tehtävät [Viopessa](https://vw4.viope.com/) (DL 8.11. klo 23:59)

&nbsp;

### Aihe 2: Map-tietorakenne <small>2.11. - 8.11.2020</small>

> *Hajautustaulu eli HashMap on ArrayListin lisäksi eniten käytettyjä Javan valmiiksi tarjoamia tietorakenteita. Hajautustaulua käytetään kun tietoa käsitellään avain-arvo -pareina, missä avaimen perusteella voidaan lisätä, hakea ja poistaa arvo.*
>
> [Agile Education Research –tutkimusryhmä, mooc.fi](https://ohjelmointi-20.mooc.fi/osa-8/2-hajautustaulu)

[Siirry oppimateriaaliin ⇨](02_map/map)

Tehtävät [Viopessa](https://vw4.viope.com/) (DL 8.11. klo 23:59)

&nbsp;

### Aihe 3: Yksikkötestaus <small>9.11. - 15.11.2020</small>

Tällä viikolla tutustumme yksikkötestaukseen ja testaamme valmista virheellisesti toimivaa ja tyylillisesti heikosti toteutettua metodia. Tutustumme lisäksi koodin laatuun vaikuttaviin tekijöihin ja sovellamme niitä annetun valmiin koodin parantamiseksi.

[Siirry oppimateriaaliin ⇨](03_yksikkotestaus/junit)

Tehtävät Teamsissa (DL 15.11. klo 23:59)

&nbsp;

### Aihe 4: tietokantaohjelmointi (JDBC) <small>16.11. - 22.11.2020</small>

Tällä viikolla opettelemme ensin muodostamaan yhteyden tietokantaan Java-ohjelmasta ja tekemään yksinkertaisia CRUD-toimenpiteitä (Create, Read, Update & Delete). 

[Siirry oppimateriaaliin ⇨](04_tietokantaohjelmointi/jdbc)

Tehtävät Teamsissa (palautetaan yhdessä DAO-tehtävän kanssa)

&nbsp;

### Aihe 5: tietokantalogiikan eriyttäminen ja testaaminen (DAO & JUnit) <small>23.11. - 29.11.2020</small>

Tällä viikolla jatkokehitämme ostoslistasovelluksen arkkitehtuuria siten, että tietokantalogiikkamme eriytetään tekstikäyttöliittymästä. Eriyttäminen mahdollistaa tietokantalogiikan testaamisen yksikkötesteillä sekä myöhemmin saman koodin uudelleenkäytön web-pohjaisella käyttöliittymällä.

[Siirry oppimateriaaliin ⇨](05_dao/dao)

Tehtävät Teamsissa (DL 29.11. klo 23:59)

&nbsp;

### Aihe 6: Verkkosovellus (Tomcat ja Servletit) <small>30.11. - 6.12.2020</small>

Verkkosovellusten osuuden ensimmäisellä viikolla toteutamme yksinkertaisia servlettejä päivämäärien laskemiseksi. Voimme halutessamme hyödyntää ensimmäisellä viikolla esiteltyä `dayOfYear`-metodia tai Javan valmiita päivämääräluokkia.

[Siirry oppimateriaaliin ⇨](06_servletit/servletit)

Tehtävät Teamsissa (DL 6.12. klo 23:59)

&nbsp;


### Aihe 7: Verkkosovellus kolmikerrosarkkitehtuurilla (Servletit, DAO, JSP) <small>7.12. - 13.12.2020</small>

Verkkosovellusten toisella viikolla jatkokehitämme oman tietokantapohjaisen ostoslistasovelluksemme verkkopalveluksi. Luomme HTML-käyttöliittymät ostoslistan näyttämiseksi ja tuotteiden lisäämiseksi.

[Siirry oppimateriaaliin ⇨](07_mvc/servlet_dao_jstl)

Tehtävät Teamsissa (DL 13.12. klo 23:59)

&nbsp;


### Aihe 8: Ajax ja JavaScript <small>14.12. - 18.12.2020</small>

Viimeinen harjoitusviikko käsittelee JavaScript-koodin avulla tehtäviä palvelinkutsuja, eli Ajax-kutsuja. Niiden avulla voimme päivittää ostoslistamme sisältöä tekemättä sivulatauksia. Toteutamme lisäksi verkkopalveluumme uuden ominaisuuden ostoslistan rivien poistamiseksi.

Tämä aihe julkaistaan viikolla 50.

<!--[Siirry oppimateriaaliin ⇨](08_ajax/ajax)

Tehtävät Teamsissa (DL 18.12. klo 23:59)-->

&nbsp;


### Harjoitustyö

Kurssin jälkimmäisellä puoliskolla vahvistatte kurssilla opittuja taitoja ja toteutatte harjoitustyönä oman tietokantapohjaisen web-sovelluksen. Harjoitustyö arvioidaan asteikolla 0-5.

[Siirry harjoitustyön tehtävänantoon ⇨](09_harjoitustyo/harjoitustyo)

Palautus Teamsiin (DL 20.12. klo 23:59)

&nbsp;

<!-- ### Kertaus

**[Kurssin kertaus: rajapinnat ja perintä](https://web.microsoftstream.com/video/456a6db0-aa81-42b0-9976-8f32ad125c59)** 33 min

**[Kurssin kertaus: Map-tietorakenne eri käyttötilanteissa](https://web.microsoftstream.com/video/24635f82-4309-40b0-9a10-b278374fef1f)** 17 min -->




## Viestintäkanavat

Tällä kurssilla viestintä tapahtuu MS Teams -palvelussa. Teams tarjoaa luontevan kanavan kysyä ja keskustella ajankohdasta riippumatta. Jos jäät jumiin koodisi kanssa tai et ymmärrä materiaaleja tai tehtävänantoja, kysy rohkeasti vinkkejä Teamsissa. Todennäköisesti samaa ongelmaa pohtii kanssasi myös moni muu, joten lähetäthän sisältöä ja tehtävänantoja koskevat kysymykset yhteiselle kanavalle eikä yksityisviestinä.

Kurssilla suositellaan käytettävän Teamsin työpöytäsovellusta. Kirjautuminen Teamsiin tapahtuu Haaga-Helian opiskelijatunnuksella.

Liittymiskoodi kurssin tiimiin löytyy sähköpostitse lähetetystä tiedotteesta sekä kurssin Moodle-työtilasta.

* [Teams Quick Start -ohje (pdf)](https://download.microsoft.com/download/D/9/F/D9FE8B9E-22F5-47BF-A1AB-09539C41FCD0/Teams%20QS.pdf)
* [Teams](https://teams.microsoft.com/)
* [Teams-lataussivu](https://teams.microsoft.com/downloads)


## Palautettavat tehtävät

Kurssilla on kahdenlaisia pakollisia tehtäviä, jotka tulee palauttaa annettuihin määräaikoihin mennessä. Osa tehtävistä palautetaan Viope-järjestelmään ja osa kurssin Teams-työtilaan.


### Viope

Kurssin ensimmäisten harjoitustehtävien tehtävänannot löytyvät Viope-järjestelmästä, jonne tehtävät myös palautetaan. Viope tarkistaa tehtävät automaattisesti ja voit lähettää ratkaisusi tarkistettavaksi niin monta kertaa kuin haluat.

Mikäli sinulla ei ole vielä tunnuksia Viopeen, rekisteröidy osoitteessa: [https://vw4.viope.com/login?org=hh](https://vw4.viope.com/login?org=hh). Huomaa että rekisteröitymisosoitteessa on oltava parametri `?org=hh`, jotta pääset käsiksi Haaga-Helian kurssitarjontaan. Rekisteröityessäsi valitse tämä toteutus **Ohjelmointi 2, 3013 ❄️**.

Mikäli sinulla on jo Viope-tunnukset, voit liittyä tämän kurssin työtilaan [etusivulta](https://vw4.viope.com/) **Ohjelmointi 2, 3013 ❄️** -linkin kautta.

**Teknisistä syistä johtuen Viopeen palautettavista lähdekoodeista täytyy aina poistaa mahdolliset package -lauseet luokan yläpuolelta.** Viope on myös muilla tavoin erittäin tarkka ohjelmien oikeellisuudesta, mikä saattaa aiheuttaa ensimmäisillä viikoilla hämmennystä. Voit kysyä kurssin Teams-kanavalla neuvoa Viope-ongelmiin milloin tahansa.

Viope-linkit:

* rekisteröityminen: [https://vw4.viope.com/login?org=hh](https://vw4.viope.com/login?org=hh)
* sisäänkirjautuminen: [https://vw4.viope.com/](https://vw4.viope.com/)


### Teams

Kurssin tietokanta- ja web-ohjelmointitehtävät palautetaan Teamsissa sijaitseviin palautuslaatikoihin. Hyväksytyn tehtävän ei tarvitse olla oikein tehty täydellinen suoritus, vaan myös osittainen palautus hyväksytään, kunhan siinä näkyy riittävästi yritystä.

Tehtävän esimerkkiratkaisu julkaistaan aina seuraavalla viikolla. Myöhästyneitä tehtäviä ei oteta vastaan, jotta mallivastauksen julkaisu ei antaisi etua myöhästyneille palautuksille.

Useat kurssin tehtävät rakentuvat saman aihealueen ympärille ja edellisten tehtävien ratkaisuilla on merkitystä seuraavan tehtävän ratkaisemisen kannalta. Mikäli jokin tehtävä jää sinulta toimimattomaksi tai puutteelliseksi, voit hyödyntää malliratkaisua jatkaessasi seuraavan viikon tehtävän parissa. Merkitse kuitenkin myös mallivastauksen käyttäminen lähteeksi (ks. lähteiden käyttäminen).

Apua tehtävien tekoon on saatavissa kurssin Teams-kanavalla niin opettajalta kuin muiltakin opiskelijoilta.


## Kurssin videot

Osa kurssin omista videoista sijaitsee Haaga-Helian videopalvelussa ja loput Microsoft Stream -palvelussa. Stream-palvelun videoilla saatat mahdollisesti törmätä virheeseen "A setting in your browser is blocking cookies. Please disable this setting or open in a new window." Tämä johtuu selaimesi evästeasetuksista ja voit joko muuttaa asetukset tai siirtyä katsomaan videon Stream-palveluun. Saat lisäohjeita klikkaamalla virheilmoituksessa olevaa linkkiä.


## Kurssin harjoitustyö

Kurssin viimeisillä viikoilla vahvistatte aikaisempina viikkoina opittuja taitoja toteuttaessanne yksilötyönä oman tietokantapohjaisen web-sovelluksen. Vaikka harjoitustyö tehdään itsenäisesti, saatte keskustella siitä esimerkiksi Teamsissa kuten aikaisemmilla tehtäväkierroksilla. Kriteerinä on, että jokainen kirjoittaa itse oman koodinsa.

Tarkempi ohjeistus arvioinnin perusteista ja toteutettavan työn ominaisuuksista julkaistaan kurssin aikana.


## Arviointi

Kurssin tehtävät sekä harjoitustyö arvioidaan asteikolla 0-5. Harjoitustyön arviointikriteerit julkaistaan harjoitustyön tehtävänannon yhteydessä.

Kurssin loppuarvosana lasketaan tehtävien ja harjoitustyön keskiarvosta ja pyöristetään lähimpään kokonaiseen arvosanaan. Molempien osasuoritusten painoarvo on 50 % loppuarvosanasta.

Tehtävien pisteytys:

Tehtävä                 |  Maksimipisteet       | DL        |   Järjestelmä
------------------------|-----------------------|-----------|---------------
Perintä ja rajapinnat   | 5                     | 8.11.     | Viope 
Map                     | 5 (+2 bonusta)        | 8.11.     | Viope 
Yksikkötestaus          | 5                     | 15.11.    | Teams 
Tietokannat ja DAO      | 5                     | 29.11.    | Teams 
Servletit               | 5                     | 6.12.     | Teams 
Servlet + jsp + dao     | 5                     | 13.12.    | Teams 
Ajax ja JavaScript      | 5                     | 18.12.    | Teams 


Tehtävien maksimipistemäärä on 35 (+ 2 bonuspistettä). Tehtävät arvioidaan siten, että 40 % suorituksella saa arvosanan 1 ja 100 % suorituksella arvosanan 5:

```java
private static double calculateExerciseGrade(int myPoints) {
    int maxPoints = 35;
    double minPoints = maxPoints * 0.4;

    if (myPoints < minPoints) {
        return 0;
    } else {
        return Math.min(5, 1 + 4 * (myPoints - minPoints) / (maxPoints - minPoints));
    }
}
```


## Tekniset työkalut

Kurssin ohjeet ja esimerkit on tehty Eclipse-sovelluskehittimellä ja Windows-käyttöjärjestelmällä, joten Linux- tai Mac-käyttäjien tulee soveltaa ohjeita ja esimerkkejä omien käyttöjärjestelmiensä mukaisesti.


Huom! Tässä vaiheessa on hyvä varmistaa, että käytössäsi on *"Eclipse IDE for Enterprise Java Developers"*, *"Eclipse Java EE IDE for Web Developers"* tai vastaavalla nimellä kutsuttu jakelupaketti, joka sisältää verkkosovellusten tekoon tarvitut laajennukset. Tämä selviää "Help"-valikosta kohdasta "About Eclipse IDE" ([lisäohjeita](https://stackoverflow.com/questions/12106980/how-to-see-my-eclipse-version/12107098)).

Mikäli Eclipse-versiosi ei ole soveltuva, asenna uusi versio osoitteesta [https://www.eclipse.org/downloads/packages/](https://www.eclipse.org/downloads/packages/).

Kurssin työkalut ovat erittäin yleisesti käytössä, joten hyviä ohjeita ja esimerkkejä löytyy melko varmasti netistä. Kannattaa myös kysyä ongelmatilanteissa apua Teamsissa.


## Git-versionhallinta

Kurssin tehtäväpohjien ja malliratkaisujen jakelussa hyödynnetään ohjelmistokehityksen alalla erittäin vakiintunutta Git-versionhallintaa ja GitHub-palvelua. Voit kloonata itsellesi kurssin projektin osoitteesta [https://github.com/haagahelia/ohjelmointi2-3013](https://github.com/haagahelia/ohjelmointi2-3013). Kurssin edetessä projektiin lisätään uusia tiedostoja, jotka voit päivittää itsellesi Git:in avulla.

Gitin käytön opetteluun voit käyttää esimerkiksi Helsingin yliopiston erinomaista "Tietokone Työvälineenä" -kurssin Git-materiaalia: [https://tkt-lapio.github.io/git/](https://tkt-lapio.github.io/git/). Vaikka Git tuntuisi aluksi vaikealta tai ahdistavalta, sinun ei tarvitse opetella kaikkea kerralla, vaan tee vain sen verran mistä on sinulle välitöntä hyötyä.


## Lähteiden käyttäminen

Tämän kurssin materiaali perustuu suurelta osin valmiisiin netistä löytyviin dokumentaatioihin ja tutoriaaleihin. Tällä sivulla eri aihealueiden yhteydessä tarjotaan linkkejä aihetta koskeviin materiaaleihin, mutta **joudut sen lisäksi merkittävissä määrin etsimään itse tietoa aiheista**.

Ohjelmointiongelmiin löytyy usein valmiita tai osittaisia ratkaisuja ympäri Internetiä niin keskustelupalstoilta kuin tutoriaaleista. Huonossa tapauksessa löydät toimivan ratkaisun ongelmaasi, mutta et osaa aivan tulkita mitä löytämäsi koodi tekee ja miksi se ratkaisee ongelmasi. Ammattimaisessa ohjelmistokehityksessä tästä seuraa mahdollisesti suuriakin vahinkoja.

Nettilähteiden hyödyntäminen ja niistä mallin ottaminen on sallittua ja kannustettavaa, mutta et saa vain kopioida ratkaisuja, vaan sinun tulee ymmärtää, miten koodisi toimii. Lisäksi, erityisesti koska kyseessä on korkeakoulun opintojakso, sinun tulee merkitä lähteet lainatessasi esimerkiksi StackOverflow:sta löytämääsi koodia. Lähdeviitteeksi riittää esimerkiksi verkkosivun osoite Java-kommenttina lainatun koodin yhteydessä, tai käyttämäsi lähteen käyttöehtojen mukainen muu lähdeviite.


## Esitietovaatimukset

> Opiskelija on suorittanut opintojakson Ohjelmointi 1 (SWD4TN032) tai hänellä on vastaavat tiedot ja taidot. Opiskelija suorittaa samanaikaisesti opintojakson Tietokannat ja tiedonhallinta (SWD1TN003) tai hänellä on vastaavat tiedot ja taidot.
>
> [*opintojaksokuvaus*](https://opinto-opas.haaga-helia.fi/course_unit/SWD4TN033) 

Mikäli et osaa Javan perusteita, nousee tämän kurssin suorittamisessa nopeasti seinä vastaan.

Mikäli SQL-osaamisessasi on puutteita, suosittelen perehtymään netistä vapaasti löytyviin lähteisiin sekä tutoriaaleihin, kuten [sqlzoo.net](https://sqlzoo.net/).


# Lisenssit ja tekijänoikeudet

Tällä kurssilla hyödynnetään avoimilla lisensseillä julkaistuja oppimateriaaleja, dataa ja ohjelmakoodia.


## Helsingin yliopiston oppimateriaalit

Kurssin oppimateriaalissa ja tehtävissä hyödynnetään laajasti [Helsingin yliopiston Agile Education Research –tutkimusryhmän oppimateriaalia](https://ohjelmointi-20.mooc.fi/), joka on lisensoitu [Creative Commons BY-NC-SA 4.0 -lisenssillä](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fi). 


## DayOfYear-esimerkkiluokka (Smelly Example #1)

Yksikkötestauksessa käytettävä DayOfYear-esimerkkiluokka on lainattu [MIT:n Software Construction -kurssin oppimateriaaleista](https://web.mit.edu/6.005/www/fa16/classes/04-code-review/). Sen tekijät ja lisenssi ovat:

Collaboratively authored with contributions from: Saman Amarasinghe, Adam Chlipala, Srini Devadas, Michael Ernst, Max Goldman, John Guttag, Daniel Jackson, Rob Miller, Martin Rinard, and Armando Solar-Lezama.

Licensed under [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/deed.fi).

## Nimiaineiston lisenssi (etunimet.csv)

Kurssin Viope-tehtävässä ja esimerkeissä hyödynnetään [Digi- ja väestötietoviraston](https://www.avoindata.fi/data/fi/organization/digi_ja_vaestotietovirasto) julkaisemaa tietoaineistoa [Väestötietojärjestelmän suomalaisten nimiaineistot](https://www.avoindata.fi/data/fi/dataset/none), joka on julkaistu lisenssillä [Creative Commons Attribution 4.0 International License](https://creativecommons.org/licenses/by/4.0/).


## Yrityspostinumerot

Yrityspostinumeroita käsittelevässä esimerkissä hyödynnetty tekstimuotoinen listaus perustuu Posti Group Oyj:n verkkosivuston tietoihin osoitteesta [https://www.posti.fi/fi/yrityksille/monikanavainen-viestinta/viestit-monikanavaisesti/postin-vastaanottaminen/yrityspostinumero](https://www.posti.fi/fi/yrityksille/monikanavainen-viestinta/viestit-monikanavaisesti/postin-vastaanottaminen/yrityspostinumero).


## SQLite-tietokanta-ajuri

Tietokanta-ajuri `sqlite-jdbc-\*.jar` noudattaa lisenssiä [Apache License version 2.0](http://www.apache.org/licenses/). Lisätiedot: [https://xerial.org/software/](https://xerial.org/software/)


## Chinook-tietokanta

Chinook-tietokannan on luonut [Luis Rocha](https://github.com/lerocha) ja se on lisensoitu avoimena lähdekoodina [MIT-lisenssillä](https://github.com/lerocha/chinook-database/blob/master/LICENSE.md).


## Tämän oppimateriaalin lisenssi

Tämän oppimateriaalin on kehittänyt Teemu Havulinna ja se on lisensoitu [Creative Commons BY-NC-SA](https://creativecommons.org/licenses/by-nc-sa/4.0/) -lisenssillä.
